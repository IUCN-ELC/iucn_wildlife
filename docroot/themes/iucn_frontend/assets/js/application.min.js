!function(a){a.fn.select2.amd.define("select2/data/custom",["select2/data/array","select2/selection/placeholder","select2/utils"],function(a,b,c){var d=function(a,b){d.__super__.constructor.call(this,a,b)};return c.Extend(d,a),b.prototype.update=function(a,b){var c=this.createPlaceholder(this.placeholder);return this.$selection.find(".select2-selection__rendered").append(c),a.call(this,b)},d});var b=a.fn.select2.amd.require("select2/data/custom");a("select").select2({dataAdapter:b,placeholder:function(){a(this).data("placeholder")},templateResult:function(b){var c=b.text.split(" (");if(1===c.length)return b.text;var d='<span class="counter">'+c[1].split(")")[0]+"</span>"+c[0];return a.parseHTML(d)},templateSelection:function(b,c){var d=b.text.split(" ("),e=" "+d[0]+' <sup class="badge">'+d[1].split(")")[0]+"</sup>";return a.parseHTML(e)}}),a(".select2-selection").on("click",".select2-selection__choice__remove",function(a){a.stopPropagation()}),a("#iucn-search-form").on({reset:function(b){b.preventDefault();var c=a(this);a(".form-select",c).val("").trigger("change.select2"),a(".form-checkbox",c).bootstrapSwitch("state",!1,!0),c.get(0).reset(),c.submit()},submit:function(){var b=a(window).scrollTop();window.sessionStorage.setItem("offset",b)}}),a('input[type="checkbox"]',"#iucn-search-form").bootstrapSwitch({labelWidth:9,offText:Drupal.t("or"),onText:Drupal.t("and"),size:"mini"}),a(".search-facets").removeClass("invisible");var c=window.sessionStorage.getItem("offset");c&&(window.sessionStorage.removeItem("offset"),a(window).scrollTop(c));var d=function(){a("#iucn-search-form").submit()};a("select","#iucn-search-form").change(d),a('input[type="checkbox"]',"#iucn-search-form").on("switchChange.bootstrapSwitch",d)}(jQuery);